const burgerBtn=document.querySelector(".burger"),navMenu=document.querySelector(".header__nav"),menuSlider=(burgerBtn.addEventListener("click",()=>{burgerBtn.classList.contains("burger--active")?(burgerBtn.classList.remove("burger--active"),navMenu.classList.remove("header__nav--active")):(burgerBtn.classList.add("burger--active"),navMenu.classList.add("header__nav--active"))}),new Swiper(".menu__slider",{spaceBetween:100,navigation:{nextEl:".menu__slider-btn--next",prevEl:".menu__slider-btn--prev"},breakpoints:{992:{spaceBetween:45},1620:{spaceBetween:100}}})),menuSliderMin=new Swiper(".menu__slider-min",{spaceBetween:40,loop:!0,slidesPerView:1,navigation:{nextEl:".menu__slider-btn--next",prevEl:".menu__slider-btn--prev"},breakpoints:{576:{slidesPerView:2}}}),anchors=document.querySelectorAll(".header__nav-link, .footer__link");for(let t of anchors)t.addEventListener("click",function(e){e.preventDefault(),navMenu.classList.remove("header__nav--active"),burgerBtn.classList.remove("burger--active");e=t.getAttribute("href").substr(1);document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})});const menuItems=document.querySelectorAll(".menu__slider .menu__item"),menuItemsForMin=document.querySelectorAll(".menu__slider-min .menu__item"),menuBtns=document.querySelectorAll(".menu__item-btn"),moreBtns=(menuItems.forEach(e=>{e.addEventListener("click",e=>{const n=e.target.closest(".menu__item");menuItems.forEach((e,t)=>{e.classList.remove("menu__item--active"),menuItemsForMin[t].classList.remove("menu__item--active"),e===n&&(n.classList.add("menu__item--active"),menuItemsForMin[t].classList.add("menu__item--active"))})})}),menuItemsForMin.forEach(e=>{e.addEventListener("click",e=>{const n=e.target.closest(".menu__item");menuItemsForMin.forEach((e,t)=>{e.classList.remove("menu__item--active"),menuItems[t].classList.remove("menu__item--active"),e===n&&(n.classList.add("menu__item--active"),menuItems[t].classList.add("menu__item--active"))})})}),document.querySelectorAll(".menu__slider-slide .btn-more")),createMenuModal=e=>{const t=document.createElement("div");t.classList.add("menu-overlay");var n=document.createElement("div"),s=(n.classList.add("menu-modal"),t.append(n),document.createElement("h3")),e=(s.classList.add("menu__slider-title"),s.textContent=e+":",n.append(s),document.createElement("ul")),s=(e.classList.add("menu-list"),e.innerHTML=`
        <li class="menu-list__item">
            Ingridient 1
        </li>
        <li class="menu-list__item">
            Ingridient 2
        </li>
        <li class="menu-list__item">
            Ingridient 3
        </li>
    <div>Price: 100$</div>
    `,n.append(e),document.createElement("button"));s.classList.add("menu-close-btn"),s.textContent="X",e.append(s),document.body.append(t),stopScroll(),t.addEventListener("click",e=>{e=e.target;closeMenuModal(t,e)})},stopScroll=()=>{var e=window.innerWidth-document.documentElement.clientWidth;document.body.style.cssText=`
        height: 100vh;
        overflow-y: hidden;
        padding-right: ${e}px;
    `},startScroll=()=>{document.body.style.cssText=`
        height: ;
        overflow-y: ;
        padding-right: ;
    `},closeMenuModal=(e,t)=>{(t.classList.contains("menu-overlay")||t.classList.contains("menu-close-btn"))&&(e.style.display="none",e.removeEventListener("click",closeMenuModal),startScroll())},benefitsMoreBtns=(moreBtns.forEach(e=>{e.addEventListener("click",e=>{e=e.target.closest(".menu__slider-slide").querySelector(".menu__slider-title").textContent;createMenuModal(e)})}),document.querySelectorAll(".btn-more--benefits")),benefitsOvelays=document.querySelectorAll(".benefits__more-info-overlay"),URL=(benefitsMoreBtns.forEach(e=>{e.addEventListener("click",e=>{e.target.closest(".benefits__item").querySelector(".benefits__more-info-overlay").style.display="block",stopScroll()})}),benefitsOvelays.forEach(t=>{t.addEventListener("click",e=>{e=e.target;(e.classList.contains("benefits__more-info-overlay")||e.classList.contains("benefits__close-btn"))&&(t.style.display="",startScroll())})}),"https://jsonplaceholder.typicode.com/posts"),getStartBtn=document.querySelector("#getStartBtn"),getStartFormOverlay=document.querySelector(".personal__overlay"),getStartForm=document.querySelector(".personal-form"),getData=({name:e,age:t,weight:n,target:s,phone:r}=data)=>{fetch(URL,{method:"POST",body:JSON.stringify({name:e,age:t,weight:n,target:s,phone:r}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>succesMsg(e)).catch(()=>errorMsg())},succesMsg=({}=data)=>{const e=document.createElement("div");e.classList.add("successMsg-overlay");var t=document.createElement("div");t.classList.add("success-msg"),t.textContent="Ваша заявка принята, скоро с Вами свяжется наш оператор",e.append(t),document.body.append(e),setTimeout(()=>{e.style.display="none"},2e3)},errorMsg=()=>{const e=document.createElement("div");e.classList.add("errorMsg-overlay");var t=document.createElement("div");t.classList.add("error-msg"),t.textContent="Что-то пошло не так, поробуйте позже",e.append(t),document.body.append(e),setTimeout(()=>{e.style.color="none"},2e3)},validationForm=()=>{const n=document.querySelectorAll(".personal-form__error-label");var e,t=[];const s=[];for(e of getStartForm.elements)e.value&&t.push(e);if(t.forEach((e,t)=>{e.value.length<2?n[t].classList.add("personal-form__error-label--active"):(n[t].classList.remove("personal-form__error-label--active"),s.push(!0))}),s.length===t.length)return!0};validationForm(),getStartBtn.addEventListener("click",()=>{stopScroll(),getStartFormOverlay.style.display="block"}),getStartFormOverlay.addEventListener("click",e=>{e=e.target;(e.classList.contains("personal__overlay")||e.classList.contains("personal-form__btn-close"))&&(getStartFormOverlay.style.display="",startScroll(),getStartForm.reset())}),getStartForm.addEventListener("submit",e=>{e.preventDefault(),validationForm()&&(e={name:getStartForm.elements.name.value,age:getStartForm.elements.age.value,weight:getStartForm.elements.weight.value,target:getStartForm.elements.target.value,phone:getStartForm.elements.phone.value},getData(e),getStartFormOverlay.style.display="",startScroll())});